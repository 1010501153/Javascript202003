<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="demo.css">
</head>
<body>
    <script src="fastclick.js"></script>
    <script>
        // 能够向服务器发送请求的
        // ajax  浏览器的地址栏   link  img的src   script的src
        // 如何在浏览器中查看当前页面的网络请求
        // 1. 创建一个ajax的实例
        // XMLHttpRequest是内置类
        let xhr = new XMLHttpRequest();
        console.log(xhr.readyState);// 0
        // open执行 这是给这个请求配置好了一些基本的属性；没发请求
        xhr.open("get","json/lyric.json",true);
        console.log(xhr.readyState);// 1
        // 当readState发生改变，就会触发这个函数
        xhr.onreadystatechange=function(){
            // readState ： 代表不同的请求阶段
            // 这个是同步，那么这个函数只执行一次；
            // 如果是异步，那么这个函数执行了三次；readyState的值2 3 4;
            // readyState:2-->3-->4 ;只是由于是同步代码，这个函数不能执行，只能等到最后数据接受完毕，readyState变成4,只会执行一次；
            console.log(xhr.readyState);// 4
            if(xhr.readyState===4&&/^2\d{2}/.test(xhr.status)){
                // 满足该条件，那么数据就请求成功了；最后会把所有的数据放在xhr的responseText这个属性上
            }
        }  
        // 上面代码在做请求的准备工作；
        xhr.send();// 发送请求

        // xhr.readyState  
        // 0 : ajax实例创建成功
        // 1 : 确定了请求的方式，请求的路径，以及是否同步异步
        // 2 : 服务器已经接受到客户端的请求，并且把响应头传给了客户端；
        // 3 : 服务器正在想客户端发送数据
        // 4 : 客户端已经全局接受到了数据，那么状态就是4；
        
        
        
    </script>
</body>
</html>